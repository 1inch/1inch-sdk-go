{
  "openapi": "3.0.0",
  "paths": {
    "/v1.0/1/quote/receive": {
      "get": {
        "operationId": "QuoterController_getQuote",
        "summary": "Get quote details based on input data",
        "parameters": [
          {
            "name": "fromTokenAddress",
            "required": true,
            "in": "query",
            "description": "Address of \"FROM\" token",
            "example": "0xc02aaa39b223fe8d0a0e5c4f27ead9083c756cc2",
            "schema": { "type": "string" }
          },
          {
            "name": "toTokenAddress",
            "required": true,
            "in": "query",
            "description": "Address of \"TO\" token",
            "example": "0x6b175474e89094c44da98b954eedeac495271d0f",
            "schema": { "type": "string" }
          },
          {
            "name": "amount",
            "required": true,
            "in": "query",
            "description": "Amount to take from \"FROM\" token to get \"TO\" token",
            "example": "100000",
            "schema": { "type": "number" }
          },
          {
            "name": "walletAddress",
            "required": true,
            "in": "query",
            "description": "An address of the wallet or contract who will create Fusion order",
            "example": "0x0000000000000000000000000000000000000000",
            "schema": { "type": "string" }
          },
          {
            "name": "enableEstimate",
            "required": true,
            "in": "query",
            "description": "if enabled then get estimation from 1inch swap builder and generates quoteId, by default is false",
            "example": "false",
            "schema": { "type": "boolean" }
          },
          {
            "name": "fee",
            "required": false,
            "in": "query",
            "description": "fee in bps format, 1% is equal to 100bps",
            "example": "100",
            "schema": { "type": "number" }
          },
          {
            "name": "isLedgerLive",
            "required": true,
            "in": "query",
            "schema": { "type": "boolean" }
          },
          {
            "name": "permit",
            "required": false,
            "in": "query",
            "description": "permit, user approval sign",
            "example": "0x",
            "schema": { "type": "string" }
          }
        ],
        "responses": {
          "200": { "description": "Returns presets with slippage and quoteId" },
          "400": { "description": "Input data is invalid" },
          "default": {
            "description": "",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/GetQuoteOutput" }
              }
            }
          }
        }
      },
      "post": {
        "operationId": "QuoterController_getQuoteWithCustomPresets",
        "summary": "Get quote with custom preset details",
        "parameters": [
          {
            "name": "fromTokenAddress",
            "required": true,
            "in": "query",
            "description": "Address of \"FROM\" token",
            "example": "0xc02aaa39b223fe8d0a0e5c4f27ead9083c756cc2",
            "schema": { "type": "string" }
          },
          {
            "name": "toTokenAddress",
            "required": true,
            "in": "query",
            "description": "Address of \"TO\" token",
            "example": "0x6b175474e89094c44da98b954eedeac495271d0f",
            "schema": { "type": "string" }
          },
          {
            "name": "amount",
            "required": true,
            "in": "query",
            "description": "Amount to take from \"FROM\" token to get \"TO\" token",
            "example": "100000",
            "schema": { "type": "number" }
          },
          {
            "name": "walletAddress",
            "required": true,
            "in": "query",
            "description": "An address of the wallet or contract who will create Fusion order",
            "example": "0x0000000000000000000000000000000000000000",
            "schema": { "type": "string" }
          },
          {
            "name": "enableEstimate",
            "required": true,
            "in": "query",
            "description": "if enabled then get estimation from 1inch swap builder and generates quoteId, by default is false",
            "example": "false",
            "schema": { "type": "boolean" }
          },
          {
            "name": "fee",
            "required": false,
            "in": "query",
            "description": "fee in bps format, 1% is equal to 100bps",
            "example": "100",
            "schema": { "type": "number" }
          },
          {
            "name": "permit",
            "required": false,
            "in": "query",
            "description": "permit, user approval sign",
            "example": "0x",
            "schema": { "type": "string" }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": { "$ref": "#/components/schemas/CustomPresetInput" }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Returns slippage, quoteId and presets with custom preset details as well"
          },
          "400": { "description": "Input data is invalid" },
          "default": {
            "description": "",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/GetQuoteOutput" }
              }
            }
          }
        }
      }
    },
    "/v1.0/healthcheck": {
      "get": {
        "operationId": "WorkerHealthcheckController_healthcheck",
        "parameters": [],
        "responses": { "200": { "description": "" } }
      }
    }
  },
  "info": {
    "title": "1inch Fusion API",
    "description": "<h2>Ethereum Network</h2>1inch Fusion Open API",
    "version": "1.0",
    "contact": {}
  },
  "tags": [],
  "servers": [{ "url": "/quoter" }],
  "components": {
    "schemas": {
      "AuctionPointClass": {
        "type": "object",
        "properties": {
          "delay": { "type": "number" },
          "coefficient": { "type": "number" }
        },
        "required": ["delay", "coefficient"]
      },
      "PresetClass": {
        "type": "object",
        "properties": {
          "bankFee": { "type": "string" },
          "auctionDuration": { "type": "number" },
          "startAuctionIn": { "type": "number" },
          "initialRateBump": { "type": "number" },
          "auctionStartAmount": { "type": "string" },
          "auctionEndAmount": { "type": "string" },
          "tokenFee": { "type": "string" },
          "estP": { "type": "number" },
          "points": {
            "type": "array",
            "items": { "$ref": "#/components/schemas/AuctionPointClass" }
          }
        },
        "required": [
          "bankFee",
          "auctionDuration",
          "startAuctionIn",
          "initialRateBump",
          "auctionStartAmount",
          "auctionEndAmount",
          "tokenFee",
          "estP",
          "points"
        ]
      },
      "QuotePresetsClass": {
        "type": "object",
        "properties": {
          "fast": {
            "description": "Fast preset type",
            "allOf": [{ "$ref": "#/components/schemas/PresetClass" }]
          },
          "medium": {
            "description": "Medium preset type",
            "allOf": [{ "$ref": "#/components/schemas/PresetClass" }]
          },
          "slow": {
            "description": "Slow preset type",
            "allOf": [{ "$ref": "#/components/schemas/PresetClass" }]
          },
          "slow_no_slippage": {
            "description": "Slow preset type with 0 slippage allowed",
            "allOf": [{ "$ref": "#/components/schemas/PresetClass" }]
          },
          "custom": {
            "description": "Custom preset type",
            "allOf": [{ "$ref": "#/components/schemas/PresetClass" }]
          }
        },
        "required": ["fast", "medium", "slow", "slow_no_slippage"]
      },
      "GetQuoteOutput": {
        "type": "object",
        "properties": {
          "quoteId": {
            "type": "string",
            "description": "Current generated quote id, should be passed with order"
          },
          "fromTokenAmount": { "type": "string" },
          "toTokenAmount": { "type": "string" },
          "feeToken": {
            "type": "string",
            "description": "Destination token address"
          },
          "presets": {
            "description": "Various preset types which user can choose when using Fusion",
            "allOf": [{ "$ref": "#/components/schemas/QuotePresetsClass" }]
          },
          "settlementAddress": {
            "type": "string",
            "description": "settlement contract address"
          },
          "whiteList": {
            "description": "current executors whitelist addresses",
            "type": "array",
            "items": { "type": "string" }
          }
        },
        "required": [
          "quoteId",
          "fromTokenAmount",
          "toTokenAmount",
          "feeToken",
          "presets",
          "settlementAddress",
          "whiteList"
        ]
      },
      "CustomPresetInput": {
        "type": "object",
        "properties": {
          "auctionDuration": { "type": "number" },
          "auctionStartAmount": { "type": "string" },
          "auctionEndAmount": { "type": "string" },
          "points": { "type": "array", "items": { "type": "string" } }
        },
        "required": [
          "auctionDuration",
          "auctionStartAmount",
          "auctionEndAmount"
        ]
      }
    }
  }
}
